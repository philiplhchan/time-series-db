global:
  scrape_interval: 10s
  evaluation_interval: 10s

scrape_configs:
  # Scrape metrics from OpenTelemetry Collectors (one per OpenSearch node)
  # Note: otel-collectors share network namespace with their respective nodes
  - job_name: 'opensearch-tsdb-otel'
    scrape_protocols:
      - OpenMetricsText1.0.0
      - OpenMetricsText0.0.1
      - PrometheusText0.0.4
    static_configs:
      - targets: ['opensearch-node1:9464']
        labels:
          cluster: 'opensearch-tsdb-cluster'
          node: 'node1'
      - targets: ['opensearch-node2:9464']
        labels:
          cluster: 'opensearch-tsdb-cluster'
          node: 'node2'
